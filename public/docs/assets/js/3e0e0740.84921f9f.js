"use strict";(globalThis.webpackChunklora_mesh_docs=globalThis.webpackChunklora_mesh_docs||[]).push([[841],{1824:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"configuration/internal-network","title":"Internal Network","description":"WiFi access point and internal network configuration.","source":"@site/docs/configuration/internal-network.md","sourceDirName":"configuration","slug":"/configuration/internal-network","permalink":"/docs/configuration/internal-network","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"MQTT Configuration","permalink":"/docs/configuration/mqtt"},"next":{"title":"Node-RED Configuration","permalink":"/docs/claude/node-red"}}');var i=s(4848),r=s(8453);const a={sidebar_position:3},o="Internal Network",d={},c=[{value:"Network Architecture",id:"network-architecture",level:2},{value:"WiFi Access Point",id:"wifi-access-point",level:2},{value:"Connection Details",id:"connection-details",level:3},{value:"hostapd Configuration",id:"hostapd-configuration",level:3},{value:"Manage hostapd",id:"manage-hostapd",level:3},{value:"DHCP Server",id:"dhcp-server",level:2},{value:"dnsmasq Configuration",id:"dnsmasq-configuration",level:3},{value:"View connected clients",id:"view-connected-clients",level:3},{value:"Manage dnsmasq",id:"manage-dnsmasq",level:3},{value:"NAT Configuration",id:"nat-configuration",level:2},{value:"Enable IP forwarding",id:"enable-ip-forwarding",level:3},{value:"iptables rules",id:"iptables-rules",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"WiFi not appearing",id:"wifi-not-appearing",level:3},{value:"No internet from WiFi clients",id:"no-internet-from-wifi-clients",level:3},{value:"DHCP not assigning IPs",id:"dhcp-not-assigning-ips",level:3}];function l(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"internal-network",children:"Internal Network"})}),"\n",(0,i.jsx)(e.p,{children:"WiFi access point and internal network configuration."}),"\n",(0,i.jsx)(e.h2,{id:"network-architecture",children:"Network Architecture"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Internet (Starlink)\n       \u2502\n       \u2502 192.168.68.1\n       \u2502\n   \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2510\n   \u2502Router \u2502\n   \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 192.168.68.x (External Network)\n       \u2502\n   \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502                   \u2502\n   \u2502 reComputer        \u2502\n   \u2502 eth0: .130        \u2502\n   \u2502 wlan0: 192.168.100.10 \u2502\n   \u2502                   \u2502\n   \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 192.168.100.x (Internal Network)\n       \u2502\n   \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2510\n   \u2502 WiFi  \u2502\n   \u2502 AP    \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n   \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502   \u2502   \u2502   \u2502   \u2502   \u2502\n   \ud83d\udcf1  \ud83d\udcbb  \ud83d\udcf1  \ud83d\udcbb  \ud83d\udcf1  \ud83d\udcbb\n   Connected Devices\n   (.100 - .200)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"wifi-access-point",children:"WiFi Access Point"}),"\n",(0,i.jsx)(e.h3,{id:"connection-details",children:"Connection Details"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Parameter"}),(0,i.jsx)(e.th,{children:"Value"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"SSID"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"MPR114993468244600004-2.4G"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Password"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"missionconnected"})})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Security"}),(0,i.jsx)(e.td,{children:"WPA2"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Channel"}),(0,i.jsx)(e.td,{children:"Auto"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"Band"}),(0,i.jsx)(e.td,{children:"2.4 GHz"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"hostapd-configuration",children:"hostapd Configuration"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"/etc/hostapd/hostapd.conf"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"interface=wlan0\ndriver=nl80211\nssid=MPR114993468244600004-2.4G\nhw_mode=g\nchannel=7\nwmm_enabled=0\nmacaddr_acl=0\nauth_algs=1\nignore_broadcast_ssid=0\nwpa=2\nwpa_passphrase=missionconnected\nwpa_key_mgmt=WPA-PSK\nwpa_pairwise=TKIP\nrsn_pairwise=CCMP\n"})}),"\n",(0,i.jsx)(e.h3,{id:"manage-hostapd",children:"Manage hostapd"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check status\nsudo systemctl status hostapd\n\n# Restart\nsudo systemctl restart hostapd\n\n# View logs\njournalctl -u hostapd -f\n"})}),"\n",(0,i.jsx)(e.h2,{id:"dhcp-server",children:"DHCP Server"}),"\n",(0,i.jsx)(e.h3,{id:"dnsmasq-configuration",children:"dnsmasq Configuration"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"/etc/dnsmasq.conf"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"interface=wlan0\ndhcp-range=192.168.100.100,192.168.100.200,255.255.255.0,24h\n"})}),"\n",(0,i.jsx)(e.h3,{id:"view-connected-clients",children:"View connected clients"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cat /var/lib/misc/dnsmasq.leases\n"})}),"\n",(0,i.jsx)(e.h3,{id:"manage-dnsmasq",children:"Manage dnsmasq"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check status\nsudo systemctl status dnsmasq\n\n# Restart\nsudo systemctl restart dnsmasq\n"})}),"\n",(0,i.jsx)(e.h2,{id:"nat-configuration",children:"NAT Configuration"}),"\n",(0,i.jsx)(e.h3,{id:"enable-ip-forwarding",children:"Enable IP forwarding"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# Check current setting\ncat /proc/sys/net/ipv4/ip_forward\n\n# Enable (temporary)\nsudo sysctl -w net.ipv4.ip_forward=1\n\n# Enable (permanent)\necho "net.ipv4.ip_forward=1" | sudo tee -a /etc/sysctl.conf\n'})}),"\n",(0,i.jsx)(e.h3,{id:"iptables-rules",children:"iptables rules"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# View current rules\nsudo iptables -t nat -L\n\n# Add NAT rule\nsudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\n\n# Save rules\nsudo netfilter-persistent save\n"})}),"\n",(0,i.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(e.h3,{id:"wifi-not-appearing",children:"WiFi not appearing"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check interface\niw dev\n\n# Restart hostapd\nsudo systemctl restart hostapd\n\n# Check logs\njournalctl -u hostapd -n 50\n"})}),"\n",(0,i.jsx)(e.h3,{id:"no-internet-from-wifi-clients",children:"No internet from WiFi clients"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Check IP forwarding\ncat /proc/sys/net/ipv4/ip_forward\n\n# Check NAT rules\nsudo iptables -t nat -L\n\n# Test connectivity from reComputer\nping 8.8.8.8\n"})}),"\n",(0,i.jsx)(e.h3,{id:"dhcp-not-assigning-ips",children:"DHCP not assigning IPs"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Restart dnsmasq\nsudo systemctl restart dnsmasq\n\n# Check leases\ncat /var/lib/misc/dnsmasq.leases\n\n# Check logs\njournalctl -u dnsmasq -n 50\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);